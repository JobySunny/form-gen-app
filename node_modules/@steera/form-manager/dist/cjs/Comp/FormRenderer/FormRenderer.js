"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.FormRenderer = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importDefault(require("react"));
const FormRenderer_utils_1 = require("./FormRenderer.utils");
const FormCanvas_1 = require("./FormCanvas");
const constants_1 = require("../../Utils/constants");
const FormRenderer_module_scss_1 = __importDefault(require("./FormRenderer.module.scss"));
/*
 * FormRenderer:
 *  - Component that render a generated form template to DOM
 *  - Manages opertions with input elements and values can be accessed once submitted
 */
exports.FormRenderer = react_1.default.forwardRef((props, ref) => {
    const formId = react_1.default.useId();
    const onSubmit = (e) => {
        e.preventDefault();
        const formData = new FormData(e.currentTarget);
        props.onSubmit(formData);
    };
    const { submitted = false } = props;
    return ((0, jsx_runtime_1.jsx)(FormRenderer_utils_1.FormContext.Provider, Object.assign({ value: { submitted } }, { children: (0, jsx_runtime_1.jsxs)("form", Object.assign({ className: props.className, id: formId, onSubmit: onSubmit }, { children: [(0, jsx_runtime_1.jsx)(FormCanvas_1.FormCanvas, { template: props.template, templateValues: props.templateValues }), (0, jsx_runtime_1.jsx)("input", { className: FormRenderer_module_scss_1.default.btn, type: constants_1.INPUT.SUBMIT, ref: ref })] })) })));
});
//# sourceMappingURL=FormRenderer.js.map