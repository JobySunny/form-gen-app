"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Reducer = void 0;
const immer_1 = __importDefault(require("immer"));
const Store_constants_1 = require("./Store.constants");
const ActionHanlders_1 = require("./ActionHanlders");
function Reducer(state, action) {
    const newState = (0, immer_1.default)(state, (draft) => {
        switch (action.type) {
            case Store_constants_1.ACTION.PROPS_CHANGE:
                return (0, ActionHanlders_1.onPropsChange)(draft, action.payload);
            case Store_constants_1.ACTION.DELETE_NODE:
                return (0, ActionHanlders_1.onDeleteNode)(draft);
            case Store_constants_1.ACTION.TOGGLE_PREVIEW:
                return (0, ActionHanlders_1.onTogglePreview)(draft);
            case Store_constants_1.ACTION.ADD_TO_CANVAS:
                return (0, ActionHanlders_1.onAddToCanvas)(draft, action.payload);
            case Store_constants_1.ACTION.SELECT_COMPONENT:
                return (0, ActionHanlders_1.onSelectComponent)(draft, action.payload);
            case Store_constants_1.ACTION.UPDATE_OPTION:
                return (0, ActionHanlders_1.onUpdateOptionItem)(draft, action.payload);
            case Store_constants_1.ACTION.CLOSE_SECTION:
                return (0, ActionHanlders_1.onCloseConfigSection)(draft);
            case Store_constants_1.ACTION.CHANGE_NAME:
                return (0, ActionHanlders_1.onChangeTemplateName)(draft, action.payload);
            default:
                return draft;
        }
    });
    stateLogger(state)(action)(newState);
    return newState;
}
exports.Reducer = Reducer;
const stateLogger = (state) => (action) => (newState) => {
    // eslint-disable-next-line
    console.info({ 'Previous State': state });
    // eslint-disable-next-line
    console.info({ Action: action });
    // eslint-disable-next-line
    console.info({ 'New State': newState });
};
//# sourceMappingURL=Store.js.map