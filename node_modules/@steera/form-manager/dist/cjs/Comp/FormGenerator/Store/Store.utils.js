"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSelectedElement = void 0;
const pathUtils_1 = require("../../../Utils/pathUtils");
function getSelectedElement(state) {
    return getElementByPath(state.template, state.selectedNodePath);
}
exports.getSelectedElement = getSelectedElement;
function getElementByPath(template, path) {
    const indices = getNodePathIndices(path);
    let selectedNode = indices.reduce((templateList, nodeIndex) => {
        if (Array.isArray(templateList)) {
            return templateList[nodeIndex];
        }
        else {
            return templateList.children[nodeIndex];
        }
    }, template);
    return selectedNode;
}
function getNodePathIndices(path) {
    return pathUtils_1.Path.parseFullPath(path).map((n) => typeof n[0] === 'string' ? parseInt(n[0]) : n[0]);
}
//# sourceMappingURL=Store.utils.js.map