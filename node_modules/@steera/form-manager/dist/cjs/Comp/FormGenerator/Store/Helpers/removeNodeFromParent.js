"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeFromParentNode = void 0;
const pathUtils_1 = require("../../../../Utils/pathUtils");
function removeFromParentNode(node, path) {
    node.children = node.children
        .filter((n) => !(n.path === path))
        .map((child, i) => {
        child.path = pathUtils_1.Path.addNodeToPath(node.path, pathUtils_1.Path.makePathNode(child.pathId, i));
        if (child.children.length) {
            child.children = child.children.map(recursivelyChangePath(child.path));
        }
        return child;
    });
    return node;
}
exports.removeFromParentNode = removeFromParentNode;
function recursivelyChangePath(parentPath) {
    return (node, index) => {
        node.path = pathUtils_1.Path.addNodeToPath(parentPath, pathUtils_1.Path.makePathNode(node.pathId, index));
        if (node.children.length) {
            node.children = node.children.map(recursivelyChangePath(node.path));
        }
        return node;
    };
}
//# sourceMappingURL=removeNodeFromParent.js.map