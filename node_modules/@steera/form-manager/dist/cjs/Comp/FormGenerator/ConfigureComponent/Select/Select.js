"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Select = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importDefault(require("react"));
const StoreProvider_1 = require("../../StoreProvider");
const Store_1 = require("../../Store");
const commonUtils_1 = require("../../../../Utils/commonUtils");
const Select_module_scss_1 = __importDefault(require("./Select.module.scss"));
function Select(props) {
    const throttle = (0, commonUtils_1.getThrottle)('onSelectChange');
    const dispatch = (0, StoreProvider_1.useAppDispatch)();
    const [value, setValue] = react_1.default.useState(props.value);
    const onChange = (e) => {
        setValue(e === null || e === void 0 ? void 0 : e.target.value);
    };
    react_1.default.useEffect(() => {
        if (value !== props.value) {
            throttle(() => {
                dispatch(Store_1.Action.updateOptionItem({ name: props.name, value }));
            });
        }
    }, [value]);
    const renderOption = (opt) => ((0, jsx_runtime_1.jsx)("option", Object.assign({ className: Select_module_scss_1.default.opt, value: opt.value }, { children: opt.label }), opt.value));
    return ((0, jsx_runtime_1.jsx)("select", Object.assign({ id: props.id, className: Select_module_scss_1.default.sel, name: props.name, value: value, onChange: onChange }, { children: props.options.map(renderOption) })));
}
exports.Select = Select;
//# sourceMappingURL=Select.js.map