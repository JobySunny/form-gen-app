import { jsx as _jsx } from "react/jsx-runtime";
import React from 'react';
import { useAppDispatch } from '../../StoreProvider';
import { Action } from '../../Store';
import { getThrottle } from '../../../../Utils/commonUtils';
import cn from './Select.module.scss';
export function Select(props) {
    const throttle = getThrottle('onSelectChange');
    const dispatch = useAppDispatch();
    const [value, setValue] = React.useState(props.value);
    const onChange = (e) => {
        setValue(e === null || e === void 0 ? void 0 : e.target.value);
    };
    React.useEffect(() => {
        if (value !== props.value) {
            throttle(() => {
                dispatch(Action.updateOptionItem({ name: props.name, value }));
            });
        }
    }, [value]);
    const renderOption = (opt) => (_jsx("option", Object.assign({ className: cn.opt, value: opt.value }, { children: opt.label }), opt.value));
    return (_jsx("select", Object.assign({ id: props.id, className: cn.sel, name: props.name, value: value, onChange: onChange }, { children: props.options.map(renderOption) })));
}
//# sourceMappingURL=Select.js.map