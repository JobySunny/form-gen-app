import { jsx as _jsx } from "react/jsx-runtime";
import React from 'react';
import { useAppDispatch } from '../../StoreProvider';
import { Action } from '../../Store';
import cn from './Checkbox.module.scss';
import { getThrottle } from '../../../../Utils/commonUtils';
export function Checkbox(props) {
    const throttle = getThrottle('checkboxChange');
    const dispatch = useAppDispatch();
    const [checked, setChecked] = React.useState();
    React.useEffect(() => {
        if (props.checked !== checked) {
            setChecked(props.checked);
        }
    }, [props.checked]);
    const onChange = (e) => {
        setChecked(e === null || e === void 0 ? void 0 : e.target.checked);
    };
    React.useEffect(() => {
        if (checked !== props.checked) {
            throttle(() => {
                dispatch(Action.updateOptionItem({ name: props.name, checked }));
            });
        }
    }, [checked]);
    return (_jsx("input", { id: props.id, className: cn.cbox, type: props.type, name: props.name, disabled: props.disabled, value: props.value, required: props.required, checked: checked, onChange: onChange }));
}
//# sourceMappingURL=Checkbox.js.map