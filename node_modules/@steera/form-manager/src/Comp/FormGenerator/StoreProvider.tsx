import * as React from 'react';

export const FormGeneratorContext = React.createContext({});

interface ProviderProps {
  /**
   * Value to set on Provider
   */
  value: {[key: string]: any};
  /**
   * child components
   */
  children: JSX.Element | JSX.Element[];
}

export function Provider(props: ProviderProps) {
  return (
    <FormGeneratorContext.Provider value={props.value}>
      {props.children}
    </FormGeneratorContext.Provider>
  );
}

export function useAppDispatch() {
  const {dispatch} =
    React.useContext<ProviderProps['value']>(FormGeneratorContext);
  return dispatch;
}

export function useAppSelector(selector: Function) {
  const {state} =
    React.useContext<ProviderProps['value']>(FormGeneratorContext);
  return selector(state);
}
