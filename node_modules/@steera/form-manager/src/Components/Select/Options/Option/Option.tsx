import * as React from 'react';
import {OptionProps} from './Option.interface';
import {getOnKey, KEY} from '../../../../Utils/commonUtils';

export function Option(props: OptionProps): JSX.Element {
  const onEnterKey = getOnKey(KEY.ENTER);

  const {onSelect, className, testId, ...rest} = props;

  const onClick: React.MouseEventHandler = () => {
    onSelect(rest);
  };

  const onKeyUp = (eve: React.KeyboardEvent) => {
    onEnterKey(() => {
      onSelect(rest);
    }, eve);
  };

  const dataTestId = `${testId}_options__item`;

  return (
    <li
      tabIndex={0}
      onClick={onClick}
      onKeyUp={onKeyUp}
      data-testid={dataTestId}
      className={className}>
      {rest.label}
    </li>
  );
}
