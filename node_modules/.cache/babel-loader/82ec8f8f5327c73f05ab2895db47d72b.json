{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from 'react';\nimport { Wrap } from './Wrap';\nimport { Icon } from './Icon';\nimport { Content } from './Content';\nimport { Options } from './Options';\nimport { SelectTag } from './SelectTag';\nimport { InputBlock } from './InputBlock';\nimport { DELAY } from './Select.constants';\nimport { getThrottle as getDelay } from './Select.utils';\nimport cn from './Select.module.scss';\n/**\n * Select\n *  Custom Select component for Async operations\n */\n\nexport function Select(props) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n  const [state, setState] = React.useState({\n    focused: false,\n    options: [],\n    loading: false,\n    showOptions: false\n  });\n  const delay = getDelay('onBlurDelay');\n\n  const onSearch = searchText => __awaiter(this, void 0, void 0, function* () {\n    setState(s => Object.assign(Object.assign({}, s), {\n      loading: true,\n      showOptions: true\n    }));\n\n    try {\n      const options = yield props.onSearch(searchText);\n      setState(s => Object.assign(Object.assign({}, s), {\n        loading: false,\n        options\n      }));\n    } catch (error) {\n      setState(s => Object.assign(Object.assign({}, s), {\n        loading: false,\n        options: []\n      }));\n    }\n  });\n\n  const onFocus = target => {\n    setState(s => Object.assign(Object.assign({}, s), {\n      focused: true\n    }));\n    (props === null || props === void 0 ? void 0 : props.onFocus) && props.onFocus(target);\n  };\n\n  const onBlur = target => {\n    delay(() => {\n      setState(s => Object.assign(Object.assign({}, s), {\n        focused: false,\n        showOptions: false\n      }));\n      (props === null || props === void 0 ? void 0 : props.onBlur) && props.onBlur(target);\n    }, DELAY);\n  };\n\n  const onSelect = option => {\n    props.onSelect({\n      name: props.name,\n      value: option\n    });\n    delay(() => {\n      setState(s => Object.assign(Object.assign({}, s), {\n        showOptions: false\n      }));\n    }, DELAY);\n  };\n\n  const getClassName = function () {\n    let selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    return `${cn[`sel${selector}`]} ${props.className}${selector}`;\n  };\n\n  return _jsxs(Wrap, Object.assign({\n    testId: (_a = props.testId) !== null && _a !== void 0 ? _a : '',\n    onFocus: onFocus,\n    onBlur: onBlur,\n    className: getClassName(''),\n    disabled: (_b = props.disabled) !== null && _b !== void 0 ? _b : false\n  }, {\n    children: [_jsxs(Content, Object.assign({\n      className: getClassName('_main')\n    }, {\n      children: [_jsx(SelectTag, {\n        name: props.name,\n        id: props.id,\n        testId: (_c = props.testId) !== null && _c !== void 0 ? _c : '',\n        options: state.options,\n        value: (_d = props.value) === null || _d === void 0 ? void 0 : _d.value,\n        disabled: props.disabled,\n        required: props.required,\n        className: getClassName('_main__tag')\n      }), _jsx(InputBlock, {\n        focused: state.focused,\n        value: (_e = props.value) === null || _e === void 0 ? void 0 : _e.label,\n        onSearch: onSearch,\n        testId: (_f = props.testId) !== null && _f !== void 0 ? _f : '',\n        disabled: props.disabled,\n        placeholder: (_g = props.placeholder) !== null && _g !== void 0 ? _g : '',\n        className: getClassName('_main__input')\n      }), _jsx(Icon, {\n        focus: state.focused,\n        loading: state.loading,\n        testId: (_h = props.testId) !== null && _h !== void 0 ? _h : '',\n        className: getClassName('_main__iconBlock'),\n        iconClassName: getClassName('_main__iconBlock_item')\n      })]\n    })), _jsx(Options, {\n      show: state.showOptions,\n      testId: (_j = props.testId) !== null && _j !== void 0 ? _j : '',\n      className: getClassName('_options'),\n      options: state.options,\n      loading: state.loading,\n      onSelect: onSelect,\n      optionClass: getClassName('_options__item')\n    })]\n  }));\n}","map":{"version":3,"mappings":"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","names":["React","Wrap","Icon","Content","Options","SelectTag","InputBlock","DELAY","getThrottle","getDelay","cn","Select","props","state","setState","useState","focused","options","loading","showOptions","delay","onSearch","searchText","__awaiter","s","Object","error","onFocus","target","onBlur","onSelect","option","name","value","getClassName","selector","className","_jsxs","testId","_a","disabled","_b","children","_jsx","id","_c","_d","required","_e","label","_f","placeholder","_g","focus","_h","iconClassName","show","_j","optionClass"],"sources":["/home/fact-11/Desktop/formApp/formapp/node_modules/@steera/form-manager/src/Components/Select/Select.tsx"],"sourcesContent":["import * as React from 'react';\nimport {SelectProps as Props, Option} from './Select.interface';\n\nimport {Wrap} from './Wrap';\nimport {Icon} from './Icon';\nimport {Content} from './Content';\nimport {Options} from './Options';\nimport {SelectTag} from './SelectTag';\nimport {InputBlock} from './InputBlock';\n\nimport {DELAY} from './Select.constants';\n\nimport {getThrottle as getDelay} from './Select.utils';\nimport cn from './Select.module.scss';\n\ntype State = {\n  focused: boolean;\n  options: Option[];\n  loading: boolean;\n  showOptions: boolean;\n};\n\n/**\n * Select\n *  Custom Select component for Async operations\n */\nexport function Select(props: Props): JSX.Element {\n  const [state, setState] = React.useState<State>({\n    focused: false,\n    options: [],\n    loading: false,\n    showOptions: false,\n  });\n\n  const delay = getDelay('onBlurDelay');\n\n  const onSearch = async (searchText: string) => {\n    setState((s) => ({...s, loading: true, showOptions: true}));\n    try {\n      const options = await props.onSearch(searchText);\n      setState((s) => ({...s, loading: false, options}));\n    } catch (error) {\n      setState((s) => ({...s, loading: false, options: []}));\n    }\n  };\n\n  const onFocus = (target: HTMLInputElement) => {\n    setState((s) => ({...s, focused: true}));\n    props?.onFocus && props.onFocus(target);\n  };\n\n  const onBlur = (target: HTMLInputElement) => {\n    delay(() => {\n      setState((s) => ({...s, focused: false, showOptions: false}));\n      props?.onBlur && props.onBlur(target);\n    }, DELAY);\n  };\n\n  const onSelect = (option: Option) => {\n    props.onSelect({name: props.name, value: option});\n    delay(() => {\n      setState((s) => ({...s, showOptions: false}));\n    }, DELAY);\n  };\n\n  const getClassName = (selector = '') => {\n    return `${cn[`sel${selector}`]} ${props.className}${selector}`;\n  };\n\n  return (\n    <Wrap\n      testId={props.testId ?? ''}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      className={getClassName('')}\n      disabled={props.disabled ?? false}>\n      <Content className={getClassName('_main')}>\n        <SelectTag\n          name={props.name}\n          id={props.id}\n          testId={props.testId ?? ''}\n          options={state.options}\n          value={props.value?.value}\n          disabled={props.disabled!}\n          required={props.required!}\n          className={getClassName('_main__tag')}\n        />\n        <InputBlock\n          focused={state.focused}\n          value={props.value?.label}\n          onSearch={onSearch}\n          testId={props.testId ?? ''}\n          disabled={props.disabled!}\n          placeholder={props.placeholder ?? ''}\n          className={getClassName('_main__input')}\n        />\n        <Icon\n          focus={state.focused}\n          loading={state.loading}\n          testId={props.testId ?? ''}\n          className={getClassName('_main__iconBlock')}\n          iconClassName={getClassName('_main__iconBlock_item')}\n        />\n      </Content>\n      <Options\n        show={state.showOptions}\n        testId={props.testId ?? ''}\n        className={getClassName('_options')}\n        options={state.options}\n        loading={state.loading}\n        onSelect={onSelect}\n        optionClass={getClassName('_options__item')}\n      />\n    </Wrap>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}